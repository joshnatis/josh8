#!/bin/bash

g++ shit.cpp
./lib "/Volumes/oldman/readings/" | ./a.out > temp
ed -s temp <<< $'1d\nw\nq' #remove first line cause there's a readme.md

echo "<!DOCTYPE html>" > index.html
echo "<head>" >> index.html
echo "<title>Corduroy's Library</title>" >> index.html
echo "<link rel=\"stylesheet\" href=\"styles.css\">" >> index.html
echo "<link rel=\"icon\" href=\"/favicon3.png\">" >> index.html
echo "</head>" >> index.html
echo "<body>" >> index.html
echo "<h1>Corduroy's Library</h1><br>" >> index.html
echo "<span id=\"searchbar\"><input type=\"text\" placeholder=\"Search...\" onkeydown=\"if(event.keyCode == 13) search()\"></span>" >> index.html

cat temp >> index.html
rm temp

echo "<p id=\"apology\">this page was generated by my computer (beep, boop), so don't yell at me bcoz it's ugly</p>" >> index.html
echo "<script src=\"scripts.js\"></script>" >> index.html
echo "</body>" >> index.html
