const LIBRARY = {"computing":["(No%20Starch)%20Steinhart,%20Jonathan%20E.%20-%20The%20Secret%20Life%20of%20Programs-No%20Starch%20Press%20(2019).epub","+hsu.zip","080225.pdf","2003-unix-network-programming-vol-1-3rd-ed.pdf","2012-sigcse-craftsmandatastructures.pdf","2018-John%20Ousterhout-A%20Philosophy%20of%20Software%20Design.pdf","A%20Beginners%20Guide%20To%20Hacking%20Computer%20Systems.pdf","A%20Quarter%20Century%20of%20UNIX.pdf","A2%20Hyde%206502%20Asm%20Lang.pdf","AAAI87-100.pdf","ABI%20x86-64%20Assembly.pdf","Abraham%20Silberschatz,%20Greg%20Gagne,%20Peter%20B.%20Galvin%20-%20Operating%20System%20Concepts-Wiley%20(2018).pdf","Addison.Wesley.The.Mythical.Man.Month.Essays.On.Software.Eng.pdf","Advanced%20Linux%20Programming.pdf","Andy%20Oram,%20Greg%20Wilson%20-%20Beautiful%20Code_%20Leading%20Programmers%20Explain%20How%20They%20Think-O'Reilly%20Media%20(2007).pdf","Bjarne%20Stroustrup%20-%20A%20Tour%20of%20C++-Addison-Wesley%20Professional%20(2018).pdf","Brendan%20Burns%20-%20Designing%20Distributed%20Systems_%20Patterns%20and%20Paradigms%20for%20Scalable,%20Reliable%20Services-O’Reilly%20Media%20(2018).pdf","Brendan%20Gregg,%20Jim%20Mauro%20-%20DTrace_%20Dynamic%20Tracing%20in%20Oracle%20Solaris,%20Mac%20OS%20X%20and%20FreeBSD%20(Oracle%20Solaris%20Series)-Prentice%20Hall%20(2011).pdf","Brian%20Kernighan%20-%20UNIX_%20A%20History%20And%20A%20Memoir-Kindle%20Direct%20Publishing%20(2020).pdf","Brian%20W.%20Kernighan,%20P.%20J.%20Plauger%20-%20The%20Elements%20of%20Programming%20Style-Computing%20Mcgraw-Hill%20(1978).pdf","Brian%20W.%20Kernighan-Understanding%20the%20Digital%20World-Princeton%20University%20Press%20(2017).pdf","Brian%20Ward%20-%20How%20Linux%20works_%20what%20every%20superuser%20should%20know-No%20Starch%20Press%20(2014).epub","C++%20Primer%20(5th%20Edition).pdf","C041213A.pdf","CLRS%20Introduction%20to%20Algorithms%20(3rd%20Edition).pdf","Cameron%20Newham%20-%20Learning%20the%20bash%20Shell_%20Unix%20Shell%20Programming%20-O'Reilly%20Media%20(2005).pdf","Charles_Petzold-Annotated_Turing-Wiley(2008).pdf","Clean_Code.pdf","Code%20Quality%20The%20Open%20Source%20Perspective%20by%20Diomidis%20Spinellis%20(z-lib.org).pdf","Collaborative_web_browsing_Multiple_users_multiple.pdf","CompilerConstruction1.pdf","Computer%20Networks%20-%20A%20Tanenbaum%20-%205th%20edition.pdf","Daniel%20P.%20Friedman,%20Matthias%20Felleisen,%20Gerald%20J.%20Sussman%20-%20The%20Little%20Schemer%20-%204th%20Edition-The%20MIT%20Press%20(1995).pdf","Dave%20Hoover,%20Adewale%20Oshineye%20-%20Apprenticeship%20Patterns_%20Guidance%20for%20the%20Aspiring%20Software%20Craftsman-O'Reilly%20Media%20(2009).pdf","Dave%20Thomas%20-%20Programming%20Elixir%201.3%20%20Functional%20%20Concurrent%20%20Pragmatic%20%20Fun-Pragmatic%20Bookshelf%20(2016).pdf","David%20Vandevoorde,%20Nicolai%20M.%20Josuttis,%20Douglas%20Gregor%20-%20C++%20Templates_%20The%20Complete%20Guide-Addison-Wesley%20(2017).pdf","Design%20of%20the%20Unix%20Operating%20System%20By%20Maurice%20Bach.pdf","Dijkstra68.pdf","Dominic%20Sweetman%20-%20See%20MIPS%20Run-Morgan%20Kaufmann%20(1999).pdf","Donald%20A.%20Norman,%20Stephen%20W.%20Draper%20-%20User%20Centered%20System%20Design_%20New%20Perspectives%20on%20Human-computer%20Interaction-CRC%20Press%20(1986).pdf","Dragon%20Book%20-%20Compilers%20Principles%20Techniques%20and%20Tools%20(2nd%20Edition).pdf","DuranSauer-videoconferencing.pdf","Energy%20Efficiency%20Programming%20Languages.pdf","Eric%20S.%20Raymond%20-%20The%20Art%20of%20UNIX%20Programming-Addison-Wesley%20Professional%20(2003).pdf","Excel%20to%20SQL.pdf","Feynman-Lectures-on-Computation.pdf","Frank%20M.%20Carrano,%20Timothy%20Henry%20-%20Data%20Abstraction%20%26%20Problem%20Solving%20with%20C++-Pearson%20(2012).pdf","GEB.pdf","HackerHighSchool.pdf","History%20of%20programming%20languages%20-%20Richard%20L%20Wexelblat_%20John%20A%20N%20Lee_%20Jean%20E%20Sammet,%20Informatiker%20%20USA.pdf","Hoare69-AxiomaticPrograms.pdf","Hoare78.pdf","How-Amazon-Web-Services-Uses-Formal-Methods.pdf","IEEE754_article.pdf","Jef%20Raskin%20-%20The%20Humane%20Interface_%20New%20Directions%20for%20Designing%20Interactive%20Systems%20(ACM%20Press%20Series)-Addison-Wesley%20Professional%20(2000).pdf","Jerome%20H.%20Saltzer,%20M.%20Frans%20Kaashoek%20-%20Principles%20of%20Computer%20System%20Design_%20An%20Introduction-Morgan%20Kaufmann%20(2009).pdf","Jon%20Bentley%20-%20Programming%20Pearls%20(2000,%20Addison-Wesley)%20-%20libgen.lc.pdf","Jonathan%20E.%20Steinhart%20-%20The%20Secret%20Life%20of%20Programs_%20Understand%20Computers%20—%20Craft%20Better%20Code-No%20Starch%20Press%20(2019).pdf","Justin%20Zobel%20-%20Writing%20for%20Computer%20Science-Springer.%20(1997).pdf","Land%20of%20Lisp_%20Learn%20to%20Program%20in%20Lisp,%20One%20Game%20at%20a%20Time%20[Barski%202010-11-15].pdf","Larry%20Wall,%20Tom%20Christiansen,%20Jon%20Orwant%20-%20Programming%20Perl-O'Reilly%20(2000).pdf","Lions%20-%20A%20Commentary%20on%20the%20Sixth%20Edition%20UNIX%20Operating%20System.pdf","M.%20Morris%20R.%20Mano,%20Charles%20R.%20Kime,%20Tom%20Martin%20-%20Logic%20and%20computer%20design%20fundamentals-Prentice%20Hall%20(2015).pdf","MIT6_047F15_Compiled.pdf","Marvin%20Minsky,%20Seymour%20A.%20Papert%20-%20Perceptrons_%20An%20Introduction%20to%20Computational%20Geometry-The%20MIT%20Press%20(1987).pdf","Matthias%20Felleisen,%20Robert%20Bruce%20Findler,%20Matthew%20Flatt,%20Shriram%20Krishnamurthi%20-%20How%20To%20Design%20Programs-Mit%20Press.pdf","Michael%20A.%20Hiltzik%20-%20Dealers%20of%20Lightning_%20Xerox%20PARC%20and%20the%20Dawn%20of%20the%20Computer%20Age-HarperBusiness%20(1999).pdf","Michael%20Huth,%20Mark%20Ryan%20-%20Logic%20in%20computer%20science_%20modelling%20and%20reasoning%20about%20systems-Cambridge%20University%20Press%20(2004).pdf","Michael%20Warren%20Lucas%20-%20Savaged%20by%20Systemd_%20an%20Erotic%20Unix%20Encounter-CreateSpace%20Independent%20Publishing%20Platform%20(2017).epub","Modern%20Fortran%20explained.pdf","ModernC.pdf","Multimedia_Synchronization_and_UNIX.pdf","Noam%20Nisan,%20Shimon%20Schocken%20-%20The%20Elements%20of%20Computing%20Systems_%20Building%20a%20Modern%20Computer%20from%20First%20Principles-The%20MIT%20Press%20(2005).pdf","Ole-Johan%20Dahl,%20Edsger%20Wybe%20Dijkstra,%20Charles%20Antony%20Richard%20Hoare%20-%20Structured%20programming-Academic%20Press%20(1972).pdf","On%20the%20criteria%20to%20be%20used%20in%20decomposing%20systems%20into%20modules.pdf","On-non-computable-numbers.pdf","Operating_System.pdf","Paul%20Graham%20-%20Hackers%20%26%20Painters_%20Big%20Ideas%20From%20the%20Computer%20Age%20(2004,%20O'Reilly%20Media).pdf","Paul%20Horowitz,%20Winfield%20Hill%20-%20The%20Art%20of%20Electronics-Cambridge%20University%20Press%20(2015).pdf","Peter%20Seibel%20-%20Coders%20at%20Work_%20Reflections%20on%20the%20Craft%20of%20Programming-Apress%20(2009).pdf","Programming%20and%20Metaprogramming%20in%20the%20Human%20Biocomputer%20Theory%20and%20Experiments%20by%20John%20C.%20Lilly%20(z-lib.org).pdf","ProgrammingGroundUp-1-0-booksize.pdf","Python%20for%20Astronomers.pdf","Randall%20Hyde%20-%20The%20Art%20Of%20Assembly%20Language%20Programming-No%20Starch%20Press.pdf","Richard_P._Feynman-Feynman_Lectures_on_Computation__-Addison-Wesley(1996).pdf","S4AB001_Building_Better_Realities.pdf","Software%20Craftsmanship%20The%20New%20Imperative%20by%20Pete%20McBreen%20(z-lib.org).pdf","Steve%20M.%20McConnell%20-%20Code%20Complete%20(1993,%20See%20notes)%20-%20libgen.lc.pdf","Steven%20Levy%20-%20Hackers%20Heroes%20of%20the%20Computer%20Revolution%20-%202010.pdf","Steven%20Levy%20-%20Hackers-O'Reilly%20Media%20%20(2010).pdf","Steven%20Levy%20-%20Hackers_%20Heroes%20of%20the%20computer%20revolution-O'Reilly%20Media%20(2010).pdf","Structure_for_Transportable_Dynamic_Multimedia_Documents.pdf","Symbolics.pdf","Syngress.Violent.Python.a.Cookbook.for.Hackers.2013.pdf","TCP%20IP%20Illustrated%20Volume%202.pdf","TPR1.pdf","TPR2.pdf","TPR3.pdf","TR1268.pdf","The%20Design%20and%20Analysis%20of%20Computer%20Algorithms%20%5BAho,%20Hopcroft%20%26%20Ullman%201974-01-11].pdf","The%20Development%20Abstraction%20Layer%20–%20Joel%20on%20Software.pdf","The%20essential%20Turing.%20Seminal%20writings%20in%20computing,%20logic,%20philosophy%20-%20Copeland%20J.%20(2004)(ISBN%200198250800).pdf","TheHardwareHacker-AndrewHuang.epub","TheUnix-HatersHandbook.pdf","The_Pirate_Book.pdf","Tom%20Hayes_%20Paul%20Horowitz_-Learning%20the%20Art%20of%20Electronics_%20A%20Hands-On%20Lab%20Course-Cambridge%20University%20Press%20(2016).pdf","Turing_Paper_1936.pdf","Usable%20Security(2)(1).pdf","WeissSystemProgramming.pdf","Werner%20Kluge%20-%20Abstract%20Computing%20Machines_%20A%20Lambda%20Calculus%20Perspective.pdf","Why%20Unix%3F.pdf","Yale%20Patt,%20Sanjay%20Patel%20-%20Introduction%20to%20Computing%20Systems_%20From%20bits%20and%20gates%20to%20C%20and%20beyond-McGraw-Hill%20(2005).pdf","acmqueue%20DE%20September-October%202019%202.pdf","advanced-unix-programming.pdf","aho_interview.pdf","algorithmic%20beauty%20of%20plants.pdf","armstrong_thesis_2003.pdf","backus_turingaward_lecture.pdf","bbdfbb27e1ff2233f62ade8393077549.pdf","bsi5-static.pdf","code.pdf","computer%20lib%20dream%20machine.pdf","control-structures-for-programming.pdf","cphb.pdf","creative%20computing%20I-%20image,%20sound%20and%20motion.pdf","criteria_for_modularization.pdf","crypt-java-text.pdf","cs449_latest.pdf","digital_design-__morris_mano-fifth_edition.pdf","dumont_1.pdf","e8f0c129985fcf2dea5cac6823bfcac90938.pdf","effective_c++.pdf","entropy.pdf","epl.pdf","erlang_in_anger.pdf","frontice.pdf","fuzz-testing.pdf","fuzz.pdf","grokking-algorithms.pdf","hancock.pdf","harbison-steele-c-reference-manual.pdf","history%20of%20lisp.pdf","knowledge_building_in_open_source.pdf","linear_logic_girard.pdf","linux_drivers.pdf","lisp-mccarthy.pdf","mcluhan-hotandcold.pdf","meantforC.pdf","metagenomics.pdf","milbook_5.pdf","nato1968.PDF","nelson-literary-machines.pdf","ocaml.pdf","onlisp.pdf","osfaster.pdf","pathalias.paper.pdf","philosophy_of_security(2)(1).pdf","playlist-recommendation-thesis.pdf","pocorgtfobible.pdf","porting-bsd.pdf","ppl-book-full.pdf","practical-file-system-design.pdf","recursive.pdf","reversing.pdf","rosegarden-1.0-sequencer-design.pdf","sicp.pdf","sndrt_lac2010.pdf","steve.pdf","surveyOnDeepLearning.pdf","tanenbaum_woodhull_operating-systems-design-implementation-3rd-edition.pdf","texbook.pdf","ubiquitous_btree.pdf","utp_book.pdf","x86-64%20Instructions%20UChicago.pdf",],"electronics":["(Learning%20by%20Discovery)%20Charles%20Platt-Make_%20Electronics%20-Make%20(2009).pdf","Michael%20Jay%20Geier-How%20to%20Diagnose%20and%20Fix%20Everything%20Electronic-McGraw-Hill%20_%20TAB%20(2015).pdf","Ray%20Wilson-Make_%20Analog%20Synthesizers-Maker%20Media,%20Inc%20(2013).epub","Steven%20W.%20Smith-The%20Scientist%20%26%20Engineer's%20Guide%20to%20Digital%20Signal%20Processing-California%20Technical%20Pub.%20(1997).pdf","Tom%20Hayes_%20Paul%20Horowitz_-Learning%20the%20Art%20of%20Electronics_%20A%20Hands-On%20Lab%20Course-Cambridge%20University%20Press%20(2016).pdf",],"language":["(Lingua%20Latina%20per%20se%20Illustrata)%20Hans%20H.%20Ørberg%20-%20Pars%20I_%20Familia%20Romana-Focus%20Publishing_R.%20Pullins%20Co.%20(2003).pdf","Origins-of-Human-Communication.pdf","Tamara%20M.%20Green-The%20Greek%20%26%20Latin%20Roots%20of%20English-Rowman%20%26%20Littlefield%20Publishers%20(2014).pdf","The-Language-Instinct-How-the-Mind-Creates-Language,-Steven-Pinker.pdf","collardaniells-latin.pdf",],"mathematics":["(Undergraduate%20Texts%20in%20Mathematics)%20Serge%20Lang%20(auth.)%20-%20Undergraduate%20Analysis-Springer%20New%20York%20(1983).pdf","A%20Mathematician's%20Apology.pdf","Abbott%20-%20Understanding%20Analysis.pdf","Algebra%20i%20-%20Bourbaki.pdf","AlgebraArtin.pdf","BookOfProof.pdf","David%20S.%20Dummit,%20Richard%20M.%20Foote%20-%20Abstract%20algebra-Wiley%20(2004).djvu","Edward%20Frenkel%20-%20Love%20and%20Math_%20The%20Heart%20of%20Hidden%20Reality-Basic%20Books%20(2013).pdf","Hodgkin%20-%20A%20History%20of%20Mathematics%20From%20Mesopotamia%20to%20Modernity.pdf","How%20to%20Survive%20Your%20College%20Math%20Class.pdf","Ian%20Stewart%20-%20Visions%20of%20infinity%20_%20the%20great%20mathematical%20problems-Basic%20Books%20(2013).pdf","James%20Stewart-Essential%20Calculus-Cengage%20Learning%20(2012).pdf","John%20Hamal%20Hubbard,%20Barbara%20Burke%20Hubbard%20-%20Vector%20Calculus,%20Linear%20Algebra%20and%20Differential%20Forms_%20A%20Unified%20Approach-Prentice%20Hall%20(1998).pdf","LambekHeraclitus.pdf","Linear%20Algebra%20Done%20Right.pdf","Music_As_Math.pdf","Raymond%20M.%20Smullyan%20-%20To%20Mock%20a%20Mockingbird%20and%20Other%20Logic%20Puzzles_%20Including%20an%20Amazing%20Adventure%20in%20Combinatory%20Logic-Knopf%20(1985).pdf","Robert%20Devaney,%20Robert%20L.%20Devaney%20-%20An%20Introduction%20to%20Chaotic%20Dynamical%20Systems-Westview%20Press%20(2003).pdf","Rosen_Discrete_Mathematics_and_Its_Applications_7th_Edition.pdf","Rota_Phenomenology_Mathematical_Beauty.pdf","Shapiro.pdf","Steven%20J.%20Leon%20-%20Linear%20Algebra%20with%20Applications%20(2014,%20Pearson).pdf","Steven%20J.%20Leon%20-%20Solutions%20Manual%20for%20Linear%20Algebra%20with%20Applications%206%20edition%20by%20Leon.pdf","Susanna%20S.%20Epp-Discrete%20Mathematics%20with%20Applications,%204th%20Edition-Brooks%20Cole%20(2010).pdf","TerenceTao_Analysis.I.Third.Edition.pdf","Timothy%20Gowers%20(ed)%20-%20The%20Princeton%20Companion%20to%20Mathematics%20(with%20TOC)-Princeton%20univ%20press.pdf","%5BSimon_Singh%5D_The_Simpsons_and_Their_Mathematical_(z-lib.org).epub","all-the-mathematics-you-missed.pdf","categories_for_working_mathematician.pdf","integral_num_and_conseq.pdf","the_myth_of_invariance.pdf",],"miscellaneous":["(Books%20in%20Soils,%20Plants,%20and%20the%20Environment)%20Roberto%20Pinton,%20Zeno%20Varanini,%20Paolo%20Nannipieri%20-%20The%20Rhizosphere_%20Biochemistry%20and%20Organic%20Substances%20at%20the%20Soil-Plant%20Interface,%20-CRC%20Press%20(2007).pdf","AbdallahRaimondAES2006.pdf","Byrne.pdf","CLIPPED%20Globalization%20reading.pdf","CriticalTheoryToday.pdf","David%20Bronstein%20-%20Zurich%20International%20Chess%20Tournament%201953.pdf","E.%20F.%20Schumacher%20-%20Small%20Is%20Beautiful_%20Economics%20as%20if%20People%20Mattered-Harper%20Perennial%20(1989).pdf","Eric%20Berne%20-%20Games%20People%20Play_%20The%20Psychology%20of%20Human%20Relationships%20-Penguin%20Books%20Ltd%20(1973).pdf","Fields.pdf","Finnegans%20Wake%20by%20James%20Joyce,%20Seamus%20Deane%20(z-lib.org).epub","Frye.pdf","HACKDIET.PDF","Haslanger.pdf","Isaac%20Asimov%20-%20The%20Clock%20We%20Live%20On-Abelard-Schuman%20(1959).pdf","Larry%20L.%20Howell%20-%20Compliant%20Mechanisms-John%20Wiley%20(2001).pdf","LearningSciences.pdf","Milan%20Kundera%20-%20The%20Unbearable%20Lightness%20of%20Being%20(1999).pdf","NASAFluidicSystems.pdf","Nils%20G.%20Holm%20(auth.),%20Dr%20N.%20G.%20Holm%20(eds.)%20-%20Marine%20Hydrothermal%20Systems%20and%20the%20Origin%20of%20Life_%20Report%20of%20SCOR%20Working%20Group%2091-Springer%20Netherlands%20(1992).pdf","PIIS0092867417304762.pdf","Paulo%20Freire,%20Myra%20Bergman%20Ramos,%20Donaldo%20Macedo%20-%20Pedagogy%20of%20the%20Oppressed,%2030th%20Anniversary%20Edition-Bloomsbury%20Academic%20(2000).pdf","Peter%20B.%20Medawar%20-%20Advice%20To%20A%20Young%20Scientist%20(Alfred%20P.%20Sloan%20Foundation%20Series)-Basic%20Books%20(1981).pdf","Slavoj%20Zizek%20-%20Antigone-Bloomsbury%20Academic%20(2016).pdf","Slavoj%20Zizek%20-%20First%20As%20Tragedy,%20Then%20As%20Farce-Verso%20(2009).pdf","The%20Meme%20Machine%20by%20Susan%20Blackmore%20(z-lib.org).pdf","The%20Visual%20Display%20of%20Quantitative%20Information%20-%20Edward%20Tufte.pdf","The_Little_Prince.pdf","Tim%20Wu-The%20Attention%20Merchants_%20The%20Epic%20Scramble%20to%20Get%20Inside%20Our%20Heads-Alfred%20A.%20Knopf%20(2016).epub","William%20Badke-Research%20Strategies_%20Finding%20Your%20Way%20Through%20the%20Information%20Fog-iUniverse%20(2015).pdf","abraham-israel-innerwork.pdf","agriculture-09-00142.pdf","internet_memes_history.pdf","presentationzen.pdf","rosegarden-1.0-sequencer-design.pdf","siggraph94.pdf","the_myth_of_invariance.pdf","trees-maps-theorems.pdf","unabomber.pdf","uon-legibility.pdf",],"music":["Cann,%20Simon-Becoming%20a%20Synthesizer%20Wizard_%20From%20Presets%20to%20Power%20User-Course%20Technology%20PTR%20(2010).pdf","Cann,%20Simon-How%20to%20make%20a%20noise%20_%20a%20comprehensive%20guide%20to%20synthesizer%20programming-Coombe%20Hill%20(2007).pdf","David%20Toop%20-%20Ocean%20of%20Sound%20-%20Aether%20Talk,%20Ambient%20Sound%20and%20Imaginary%20Worlds%20%5Bhistory%20of%20ambient%20music-Serpent's%20Tail%20(2001).pdf","Dean%20Friedman-Synthesizer%20Basics-Amsco%20Music%20(1985).pdf","Mark%20Vail-The%20Synthesizer_%20A%20Comprehensive%20Guide%20to%20Understanding,%20Programming,%20Playing,%20and%20Recording%20the%20Ultimate%20Electronic%20Music%20Instrument-Oxford%20University%20Press,%20USA%20(2014).epub","Music%20Theory%3B%20The%20TL%3BDR%20Version%20(1.0).pdf","Nicolas%20Collins%20-%20Handmade%20Electronic%20Music_%20The%20Art%20of%20Hardware%20Hacking%20(2006,%20Routledge)%20-%20libgen.lc.pdf","Roads_Curtis_Microsound.pdf","Terry%20E.%20Miller,%20Andrew%20Shahriari%20-%20World%20Music_%20A%20Global%20Journey%20-%20Paperback%20Only-Routledge%20(2012).pdf","VAFilterDesign_2.1.0.pdf","biles1999.pdf","hardware%20hacking%20nicolas%20collins.pdf","sound-processing.pdf",],"philosophy":["(Deleuze%20and%20the%20Arts)%20Ronald%20Bogue%20-%20Deleuze%20on%20Music,%20Painting%20and%20the%20Arts-Routledge%20(2003).pdf","(Simon%20%26%20Schuster)%20Bertrand%20Russell%20-%20A%20History%20of%20Western%20Philosophy%20-Simon%20&%20Schuster%20(1961).pdf","(Theory%20Redux)%20Helen%20Hester%20-%20Xenofeminism-Polity%20(2018).pdf","24.%20The%20Role%20of%20Theory%20in%20Aesthetics.pdf","A%20Thousand%20Plateaus.pdf","Aurora-ScaleAnarchy_ful-version.pdf","AustinHowTo.pdf","Ayer.pdf","Bertrand%20Russell%20-%20The%20Conquest%20of%20Happiness-Liveright%20(1996).pdf","Brian%20Hulse,%20Nick%20Nesbitt%20-%20Sounding%20the%20Virtual_%20Gilles%20Deleuze%20and%20the%20Theory%20and%20Philosophy%20of%20Music-Ashgate%20Publishing%20Company%20(2010).pdf","Ccru,%20Nick%20Land%20-%20Ccru_%20Writings%201997-2003-Time%20Spiral%20Press%20(2015).pdf","E.%20F.%20Schumacher%20-%20Small%20Is%20Beautiful_%20Economics%20as%20if%20People%20Mattered-Harper%20Perennial%20(1989).pdf","GeneologyofMorals.pdf","George%20Lakoff%20-%20Philosophy%20In%20The%20Flesh_%20The%20Embodied%20Mind%20And%20Its%20Challenge%20To%20Western%20Thought-Basic%20Books%20(1999).pdf","KuklaWalmsleyContrast.pdf","Long,%20George%20-%20The%20meditations%20of%20Marcus%20Aurelius%20Antoninus%20by%20Marcus%20Aurelius,%20Emperor%20of%20Rome%20(1900).pdf","Mark%20Fisher,%20Darren%20Ambrose%20(editor)%20-%20K-punk_%20The%20Collected%20and%20Unpublished%20Writings%20of%20Mark%20Fisher-Repeater%20(2018).pdf","Ney.pdf","Rota_Phenomenology_Mathematical_Beauty.pdf","SEMINAL_THOUGHTS_FOR_A_POSSIBLE_TECNOSHA.pdf","SMIMAT-6.1.pdf","Shapiro.pdf","Simon%20Blackburn%20-%20Think_%20A%20Compelling%20Introduction%20to%20Philosophy-Oxford%20University%20Press,%20USA%20(1999).pdf","Simulacra_and_Simulation.pdf","Spencer-Brown%20-%20Laws%20of%20Form-Plume%20(1979).pdf","Spencer1.pdf","Spencer2.pdf","The%20Sublime%20(Whitechapel%20Documents%20of%20Contemporary%20Art)%20by%20Simon%20Morley%20(Editor)%20(z-lib.org).pdf","alain-badiou-being-and-event.pdf","cyclonopedia.pdf","grosz_chaos_territory_art.pdf","mathematics%20lakof.pdf",],"physics":["Hawking_-_A_Brief_History_Of_Time.pdf","John%20Gribbin%20-%20In%20Search%20of%20Schrodinger's%20Cat-Bantam%20Dell%20Pub%20Group%20(1999).pdf","Leonard%20Susskind,%20George%20Hrabovsky%20-%20The%20Theoretical%20Minimum_%20What%20You%20Need%20to%20Know%20to%20Start%20Doing%20Physics-Basic%20Books%20(2013).pdf","RICHARD%20P.%20FEYNMAN-SURELY%20YOU'RE%20JOKING%20MR.%20FEYNMAN.PDF","Roger%20Penrose%20-%20The%20Emperor's%20New%20Mind_%20Concerning%20Computers,%20Minds,%20and%20the%20Laws%20of%20Physics-Random%20House%20UK%20(1994).pdf","Schutz%20A%20First%20Course%20in%20General%20Relativity(Second%20Edition).pdf","WIlliam%20Poundstone%20-%20The%20Recursive%20Universe_%20Cosmic%20Complexity%20and%20the%20Limits%20of%20Scientific%20Knowledge-Dover%20Publications%20(2013).pdf","road%20to%20reality-robert%20penrose.pdf",]};
const ANCHOR = document.getElementById("anchor");
const BR = document.createElement("br");
const URL = "https://library.josh8.com/";

function populate()
{
	for(category in LIBRARY)
	{
		let category_div = document.createElement("div");
		category_div.className = "category";

		let category_title = document.createElement("span");
		category_title.className = "category-title";
		category_title.textContent = category.substring(1);

		let dropcap_img = document.createElement("img");
		dropcap_img.className = "category-img";
		dropcap_img.src = "images/" + category[0] + ".png";

		category_title.prepend(dropcap_img);
		category_div.appendChild(category_title);
		ANCHOR.appendChild(category_div);

		populateWithBooks(category, category_div);
	}
}

function populateWithBooks(category, category_div)
{
	let books_div = document.createElement("div");
	books_div.className = "books";

	let books = LIBRARY[category];
	for(let i = 0; i < books.length; ++i)
	{
		let a = document.createElement("a");
		a.href = URL + category + "/" + books[i];
		a.textContent = unescape(books[i]);
		a.className = "book-link";
		let img = document.createElement("img");
		img.src = "images/223.ico";
		img.className = "book-icon";
		books_div.appendChild(img);
		books_div.appendChild(a);
		books_div.appendChild(document.createElement("br"));
	}
	ANCHOR.appendChild(books_div);
	ANCHOR.appendChild(document.createElement("br"));

	category_div.onclick = function() {
		if(books_div.dataset.expanded == "true")
		{
			books_div.style.display = "none";
			books_div.dataset.expanded = "false";
		}
		else
		{
			books_div.style.display = "block";
			books_div.dataset.expanded = "true";
		}
	}
}

function expand()
{
	let books_div = document.getElementsByClassName("books");
	[...books_div].forEach(div => {
		div.style.display = "block";
	});
}

function collapse()
{
	let books_div = document.getElementsByClassName("books");
	[...books_div].forEach(div => {
		div.style.display = "none";
	});
}

function enableButtons()
{
	let expand_btns = document.getElementsByClassName("expand");
	let collapse_btns = document.getElementsByClassName("collapse");

	[...expand_btns].forEach(btn => { btn.onclick = expand; });
	[...collapse_btns].forEach(btn => { btn.onclick = collapse; });

	let search_btn = document.getElementById("search-btn");
	let search_bar = document.getElementById("search-bar");
	
	search_btn.onclick = function()
	{
		search(search_bar.value);
	}

	search_bar.onkeypress = function(e)
	{
    	if(!e) e = window.event;
    	let keyCode = e.code || e.key;
		if(keyCode == 'Enter') {
			search(search_bar.value);
		}
		return true;
	}
}

function unescape(s)
{
	return s.replaceAll("%20", " ").replaceAll("_", " ");
}

function libraryContains(target)
{
	for(category in LIBRARY) {
		for(let i = 0; i < LIBRARY[category].length; ++i) {
			let title = LIBRARY[category][i].toLowerCase();
			if(title.includes(target)) {
				return [true, category, unescape(title)];
			}
		}
	}
	return false;
}

function search(target)
{
	target = target.toLowerCase();

	/* unhighlight previous search result */
	let prevresult = document.getElementById("search-result");
	if(prevresult) prevresult.id = "";

	if(target == "") return;

	let [targetFound, foundInCategory, result] = libraryContains(target);
	if(!targetFound) return;

	expand();

	/* first letter of title is image :P */
	foundInCategory = foundInCategory.substring(1);

	let categoryTitles = document.getElementsByClassName("category-title");
	[...categoryTitles].forEach(categoryTitle => {
		if(categoryTitle.textContent != foundInCategory) return;

		/* books are in a <div> under the category title */
		let booksInCategory = categoryTitle
			.parentNode
			.nextElementSibling
			.getElementsByClassName("book-link");

		/* scroll to result and highlight it */
		for(let i = 0; i < booksInCategory.length; ++i) {
			let bookTitle = booksInCategory[i].text.toLowerCase();
			if(bookTitle != result) continue;

			booksInCategory[i].scrollIntoView();
			booksInCategory[i].id = "search-result";
			return;
		}
	});
}

populate();
enableButtons();
